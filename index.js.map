{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '49762911-ec3b435e9780d83fd842f10c5';\n\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function getImagesByQuery(query) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return axios(BASE_URL, { params }).then(({ data }) => data);\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightBox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  animationSpeed: 350,\n  captionPosition: 'outside',\n});\n\nconst galleryList = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nexport function createGallery(images) {\n  const marcup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t<img \n\t\t  class=\"gallery-image\" \n\t\t  src=\"${webformatURL}\" \n\t\t  alt=\"${tags}\" \n\t\t/>\n\t</a>\n    \n      <ul class=\"baner\">\n          <li class=\"baner-li\">\n            <p class=\"baner-title\">Likes</p>\n            <p class=\"baner-text\">${likes}</p>\n          </li>\n          <li class=\"baner-li\">\n            <p class=\"baner-title\">Views</p>\n            <p class=\"baner-text\">${views}</p>\n          </li>\n          <li class=\"baner-li\">\n            <p class=\"baner-title\">Comments</p>\n            <p class=\"baner-text\">${comments}</p>\n          </li>\n          <li class=\"baner-li\">\n            <p class=\"baner-title\">Downloads</p>\n            <p class=\"baner-text\">${downloads}</p>\n          </li>\n      </ul>\n    \n</li>\n`\n    )\n    .join('');\n  galleryList.insertAdjacentHTML('beforeend', marcup);\n  lightBox.refresh();\n}\n\nexport function clearGallery() {\n  galleryList.innerHTML = '';\n}\n\nexport function showLoader() {\n  loader.classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  loader.classList.add('hidden');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  clearGallery,\n  createGallery,\n  hideLoader,\n  showLoader,\n} from './js/render-functions';\n\nconst searchForm = document.querySelector('.form');\n\nsearchForm.addEventListener('submit', onSearchFormSubmit);\n\nfunction onSearchFormSubmit(evt) {\n  evt.preventDefault();\n  clearGallery();\n\n  const searchQuery = evt.target.elements['search-text'].value.trim();\n  evt.target.reset();\n  if (!searchQuery) {\n    iziToast.error({\n      message: 'Enter valid query',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  showLoader();\n  getImagesByQuery(searchQuery)\n    .then(({ hits }) => {\n      if (hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          maxWidth: 432,\n        });\n        return;\n      }\n\n      createGallery(hits);\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","params","axios","data","lightBox","SimpleLightbox","galleryList","loader","createGallery","images","marcup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","searchForm","onSearchFormSubmit","evt","searchQuery","iziToast","hits","error"],"mappings":"owBAEA,MAAMA,EAAU,qCAEVC,EAAW,2BAEV,SAASC,EAAiBC,EAAO,CACtC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAOE,EAAMJ,EAAU,CAAE,OAAAG,CAAQ,CAAA,EAAE,KAAK,CAAC,CAAE,KAAAE,KAAWA,CAAI,CAC5D,CCbA,MAAMC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,gBAAiB,SACnB,CAAC,EAEKC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,iCAEqBL,CAAa;AAAA;AAAA;AAAA,WAGnCD,CAAY;AAAA,WACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCAOqBC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,CAMxC,EACA,KAAK,EAAE,EACVX,EAAY,mBAAmB,YAAaI,CAAM,EAClDN,EAAS,QAAO,CAClB,CAEO,SAASc,GAAe,CAC7BZ,EAAY,UAAY,EAC1B,CAEO,SAASa,GAAa,CAC3BZ,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASa,GAAa,CAC3Bb,EAAO,UAAU,IAAI,QAAQ,CAC/B,CC5DA,MAAMc,EAAa,SAAS,cAAc,OAAO,EAEjDA,EAAW,iBAAiB,SAAUC,CAAkB,EAExD,SAASA,EAAmBC,EAAK,CAC/BA,EAAI,eAAc,EAClBL,IAEA,MAAMM,EAAcD,EAAI,OAAO,SAAS,aAAa,EAAE,MAAM,OAE7D,GADAA,EAAI,OAAO,QACP,CAACC,EAAa,CAChBC,EAAS,MAAM,CACb,QAAS,oBACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDN,IACApB,EAAiByB,CAAW,EACzB,KAAK,CAAC,CAAE,KAAAE,KAAW,CAClB,GAAIA,EAAK,SAAW,EAAG,CACrBD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,SAAU,GACpB,CAAS,EACD,MACD,CAEDjB,EAAckB,CAAI,CACxB,CAAK,EACA,MAAMC,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbP,GACN,CAAK,CACL"}